#
# Copyright (c) 2021 Nordic Semiconductor
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

menu "Edge Impulse data forwarder"

config ML_APP_EI_DATA_FORWARDER_ENABLE
	bool "Enable data forwarder"
	depends on NEWLIB_LIBC
	depends on NEWLIB_LIBC_FLOAT_PRINTF

if ML_APP_EI_DATA_FORWARDER_ENABLE

choice
	prompt "Select data forwarder interface"
	default ML_APP_EI_DATA_FORWARDER_UART

config ML_APP_EI_DATA_FORWARDER_UART
	bool "UART"
	depends on UART_ASYNC_API

config ML_APP_EI_DATA_FORWARDER_BT_NUS
	bool "Nordic UART Service (NUS)"
	depends on BT_NUS
	depends on BT_GAP_AUTO_UPDATE_CONN_PARAMS

endchoice

config ML_APP_EI_DATA_FORWARDER_BUF_SIZE
	int "UART buffer size"
	default 64
	range 6 4096
	help
	  Size of the buffer used to temporarily store forwarded data.
	  The buffer must be big enough to store a single line of forwarded data.

config ML_APP_EI_DATA_FORWARDER_UART_DEV
	string "UART device name"
	depends on ML_APP_EI_DATA_FORWARDER_UART
	default "UART_0"
	help
	  Name of UART device that is used to forward data.

module = ML_APP_EI_DATA_FORWARDER
module-str = EI data forwarder
source "subsys/logging/Kconfig.template.log_config"

endif # ML_APP_EI_DATA_FORWARDER

endmenu
